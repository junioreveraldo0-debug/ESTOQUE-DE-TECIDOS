(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[513],{9143:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/entrada",function(){return l(7860)}])},5660:function(e,a,l){"use strict";l.d(a,{Z:function(){return d}});var t=l(5893),s=l(1664),n=l.n(s),r=l(1163),i=l(9732);function d(){let e=(0,r.useRouter)(),{user:a,logout:l}=(0,i.aC)();if(!a)return null;let s=[{href:"/dashboard",label:"Dashboard"},{href:"/articles",label:"Artigos"},{href:"/entrada",label:"Entrada"},{href:"/saida",label:"Sa\xedda"},{href:"/estoque",label:"Estoque"},{href:"/contagem",label:"Contagem"},{href:"/usuarios",label:"Usu\xe1rios"}];return(0,t.jsxs)("header",{className:"header sticky top-0 z-40 shadow-sm",children:[(0,t.jsxs)("div",{className:"max-w-5xl mx-auto flex items-center justify-between p-3",children:[(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsx)("img",{src:"/srj-logo.svg",alt:"SRJ",width:"140"})}),(0,t.jsx)("nav",{className:"hidden md:flex gap-2",children:s.map(a=>{let l=e.pathname===a.href;return(0,t.jsx)(n(),{href:a.href,children:(0,t.jsx)("div",{className:"nav-tab ".concat(l?"nav-tab-active":""),children:a.label})},a.href)})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Ol\xe1, ",null==a?void 0:a.username]}),(0,t.jsx)("button",{onClick:()=>{l()},className:"bg-brand-500 text-white px-3 py-1 rounded no-print",children:"Sair"})]})]}),(0,t.jsx)("div",{className:"md:hidden overflow-auto",children:(0,t.jsx)("div",{className:"flex gap-2 px-3 pb-2",children:s.map(e=>(0,t.jsx)(n(),{href:e.href,children:(0,t.jsx)("div",{className:"nav-tab",children:e.label})},e.href))})})]})}},7860:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return c}});var t=l(5893),s=l(7294),n=l(5660),r=l(1163),i=l.n(r),d=l(6976);let o=e=>fetch(e).then(e=>e.json());function c(){let{data:e}=(0,d.ZP)("/api/articles",o),[a,l]=(0,s.useState)(""),[r,c]=(0,s.useState)(""),[u,h]=(0,s.useState)(""),[m,x]=(0,s.useState)(""),[p,f]=(0,s.useState)(""),[b,v]=(0,s.useState)(null),j=async()=>{let e=await fetch("/api/rolls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({article_id:a,initial_quantity:r,nuance:u,lot_number:m,location:p})});if(e.ok){let a=await e.json();i().push("/label/"+a.id)}else v("Erro ao registrar")};return(0,t.jsxs)("div",{className:"min-h-screen",children:[(0,t.jsx)(n.Z,{}),(0,t.jsxs)("main",{className:"max-w-5xl mx-auto p-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-brand-500",children:"Entrada de Tecido"}),(0,t.jsxs)("div",{className:"mt-4 p-4 bg-white rounded shadow space-y-2",children:[(0,t.jsxs)("select",{value:a,onChange:e=>l(e.target.value),className:"w-full border p-2 rounded",children:[(0,t.jsx)("option",{value:"",children:"-- Selecionar Artigo --"}),null==e?void 0:e.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," — ",e.supplier," — ",e.width,"cm"]},e.id))]}),(0,t.jsx)("input",{value:r,onChange:e=>c(e.target.value),placeholder:"Metragem (m)",className:"w-full border p-2 rounded"}),(0,t.jsx)("input",{value:u,onChange:e=>h(e.target.value),placeholder:"Nuance",className:"w-full border p-2 rounded"}),(0,t.jsx)("input",{value:m,onChange:e=>x(e.target.value),placeholder:"N\xfamero do Lote",className:"w-full border p-2 rounded"}),(0,t.jsx)("input",{value:p,onChange:e=>f(e.target.value),placeholder:"Localiza\xe7\xe3o (opcional)",className:"w-full border p-2 rounded"}),(0,t.jsx)("button",{onClick:j,className:"bg-brand-500 text-white rounded p-2",children:"Registrar Entrada e Imprimir Etiqueta"}),b&&(0,t.jsx)("div",{className:"text-red-600",children:b})]})]})]})}}},function(e){e.O(0,[664,976,888,774,179],function(){return e(e.s=9143)}),_N_E=e.O()}]);